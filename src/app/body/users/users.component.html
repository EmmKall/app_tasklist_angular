<app-spinner *ngIf="spinner"></app-spinner>
<div class="container mx-auto">

  <div class="my-5 md:my-10 p-3 bg-white rounded-lg shadow-xl">
    <h1 class="text-center text-xl font-bold text-blue-500 border-b-2 border-blue-500">Profile: {{ user.name }}</h1>
  </div>

  <div class="w-full md:w-1/2 mx-auto my-5 md:my-10 py-3 bg-gray-300 rounded-lg shadow-lg">
    <div class="p-2 shadow-lg bg-white">
      <div class="w-full my-5 flex flex-col md:flex-row md:justify-end">
        <button (click)="showEdit()" class="p-3 my-3 md:my-0 md:mx-5 rounded shadow bg-green-500 hover:bg-green-600 cursor-pointer text-white"><i class="far fa-edit" style="color: #ffffff;"></i> Edit profile</button>
        <button (click)="showEditPassword()" class="p-3 my-3 md:my-0 md:mx-5 rounded shadow bg-cyan-500 hover:bg-cyan-600 cursor-pointer text-white"><i class="fas fa-unlock-alt" style="color: #ffffff;"></i> Update password</button>
      </div>
      <div class="p-5 md:p-10 my-5 md:my-10 bg-gray-200 rounded w-full md:w-1/2 mx-auto">
        <p class="text-start">Name: <span class="font-bold text-blue-500">{{ user.name }}</span></p>
        <p class="text-start">Email: <span class="font-bold text-blue-500">{{ user.email }}</span></p>
        <p class="text-start">Phone: <span class="font-bold text-blue-500">{{ user.phone }}</span></p>
          <p class="text-start">Password: <span class="font-bold text-blue-500">{{ '**********' }}</span></p>
      </div>
    </div>
  </div>

</div>

<!-- Password Modal -->
<div *ngIf="showeModalPass" class="modal-container fixed inset-0 bg-scaleIn">
  <div class="modal w-full md:w-1/3 mx-auto p-3 rounded-lg shadow-2xl shadow-black bg-white">
    <div class="modal-tittle p-2 flex flex-row justify-between content-center border-b-2 border-blue-500">
      <h3 class="self-center text-center font-bold">Update Password</h3>
      <button (click)="closeModalPass()" class="bg-red-500 p-1 rounded"><i class="fa-solid fa-xmark fa-lg" style="color: #ffffff;"></i></button>
    </div>
    <div class="modal-body">
      <div class="my-2 p-2  flex flex-col">
        <label for="">Email</label>
        <input disabled type="text" [(ngModel)]="user.email" placeholder="task name" class="p-2 bg-gray-200 border-t-2 border-blue-500">
      </div>
      <div class="my-2 p-2  flex flex-col">
        <label for="">Password</label>
        <input type="password" [(ngModel)]="password.pass" class="p-2 bg-gray-200 border-t-2 border-blue-500">
      </div>
      <div class="my-2 p-2  flex flex-col">
        <label for="">Confirm password</label>
        <input type="password" [(ngModel)]="password.cpass" class="p-2 bg-gray-200 border-t-2 border-blue-500">
      </div>
      <div class="w-full flex flex-row justify-evenly py-3 border-t-2 border-blue-600 bg-gray-300">
        <button [disabled]="( password.pass === '' || password.cpass === '' || password.pass !== password.cpass )"
                (click)="updatePass()"
                [ngClass] = " ( password.pass === '' || password.cpass === '' || password.pass !== password.cpass ) ? 'bg-blue-200' : 'bg-blue-500 hover:bg-blue-600' "
                class="p-2 rounded-lg text-white">Update Password</button>
        <button (click)="closeModalPass()" class="p-2 rounded-lg text-white bg-red-500 hover:bg-red-600">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Modal -->
<div *ngIf="showeModalEdit" class="modal-container fixed inset-0 bg-scaleIn">
  <div class="modal w-full md:w-1/3 mx-auto p-3 rounded-lg shadow-2xl shadow-black bg-white">
    <div class="modal-tittle p-2 flex flex-row justify-between content-center border-b-2 border-blue-500">
      <h3 class="self-center text-center font-bold">Update Profile</h3>
      <button (click)="closeModalEdit()" class="bg-red-500 p-1 rounded"><i class="fa-solid fa-xmark fa-lg" style="color: #ffffff;"></i></button>
    </div>
    <div class="modal-body">
      <div class="my-2 p-2  flex flex-col">
        <label for="">Name</label>
        <input type="text" [(ngModel)]="user.name" placeholder="task name" class="p-2 bg-gray-200 border-t-2 border-blue-500" required>
      </div>
      <div class="my-2 p-2  flex flex-col">
        <label for="">Email</label>
        <input disabled type="email" [(ngModel)]="user.email" placeholder="task name" class="p-2 bg-gray-200 border-t-2 border-blue-500" required>
      </div>
      <div class="my-2 p-2  flex flex-col">
        <label for="">Phone</label>
        <input type="text" [(ngModel)]="user.phone" class="p-2 bg-gray-200 border-t-2 border-blue-500">
      </div>
      <div class="w-full flex flex-row justify-evenly py-3 border-t-2 border-blue-600 bg-gray-300">
        <button [disabled]="( user.name === '' || user.email === '' || user.phone === '' )"
                (click)="updatedProfile()"
                [ngClass] = " ( user.name === '' || user.email === '' || user.phone === '' ) ? 'bg-blue-200' : 'bg-blue-500 hover:bg-blue-600' "
                class="p-2 rounded-lg text-white">Update Profile</button>
        <button (click)="closeModalEdit()" class="p-2 rounded-lg text-white bg-red-500 hover:bg-red-600">Cancel</button>
      </div>
    </div>
  </div>
</div>

